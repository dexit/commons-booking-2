CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`127.0.0.1` SQL SECURITY DEFINER VIEW `wp_cb2_view_calendar_period_items` AS select cast(`sq`.`datetime_start` as date) AS `date`,NULL AS `timeframe_ID`,NULL AS `location_ID`,NULL AS `item_ID`,NULL AS `user_ID`,'A' AS `period_group_type`,0 AS `period_group_priority`,NULL AS `period_group_id`,NULL AS `period_id`,NULL AS `recurrence_index`,cast('00:00:00' as time) AS `time_start`,cast('23:59:59' as time) AS `time_end` from `wp_cb2_view_sequence` `sq` union all select cast(`cal`.`datetime_start` as date) AS `date`,NULL AS `timeframe_ID`,NULL AS `location_ID`,NULL AS `item_ID`,NULL AS `user_ID`,'G' AS `period_group_type`,1 AS `period_group_priority`,`pgp`.`period_group_id` AS `period_group_id`,`p`.`period_id` AS `period_id`,`cal`.`recurrence_index` AS `recurrence_index`,`cal`.`time_start` AS `time_start`,`cal`.`time_end` AS `time_end` from (((`wp_cb2_view_calendar_periods` `cal` join `wp_cb2_periods` `p` on((`cal`.`period_id` = `p`.`period_id`))) join `wp_cb2_period_group_period` `pgp` on((`pgp`.`period_id` = `p`.`period_id`))) join `wp_cb2_global_period_groups` `ip` on((`ip`.`period_group_id` = `pgp`.`period_group_id`))) union all select cast(`cal`.`datetime_start` as date) AS `date`,NULL AS `timeframe_ID`,`ip`.`location_ID` AS `location_ID`,NULL AS `item_ID`,NULL AS `user_ID`,'L' AS `period_group_type`,2 AS `period_group_priority`,`pgp`.`period_group_id` AS `period_group_id`,`p`.`period_id` AS `period_id`,`cal`.`recurrence_index` AS `recurrence_index`,`cal`.`time_start` AS `time_start`,`cal`.`time_end` AS `time_end` from (((`wp_cb2_view_calendar_periods` `cal` join `wp_cb2_periods` `p` on((`cal`.`period_id` = `p`.`period_id`))) join `wp_cb2_period_group_period` `pgp` on((`pgp`.`period_id` = `p`.`period_id`))) join `wp_cb2_location_period_groups` `ip` on((`ip`.`period_group_id` = `pgp`.`period_group_id`))) union all select cast(`cal`.`datetime_start` as date) AS `date`,`ip`.`timeframe_id` AS `timeframe_ID`,`ip`.`location_ID` AS `location_ID`,`ip`.`item_ID` AS `item_ID`,NULL AS `user_ID`,'I' AS `period_group_type`,3 AS `period_group_priority`,`pgp`.`period_group_id` AS `period_group_id`,`p`.`period_id` AS `period_id`,`cal`.`recurrence_index` AS `recurrence_index`,`cal`.`time_start` AS `time_start`,`cal`.`time_end` AS `time_end` from (((`wp_cb2_view_calendar_periods` `cal` join `wp_cb2_periods` `p` on((`cal`.`period_id` = `p`.`period_id`))) join `wp_cb2_period_group_period` `pgp` on((`pgp`.`period_id` = `p`.`period_id`))) join `wp_cb2_timeframe_period_groups` `ip` on((`ip`.`period_group_id` = `pgp`.`period_group_id`))) union all select cast(`cal`.`datetime_start` as date) AS `date`,`ip`.`timeframe_id` AS `timeframe_ID`,`ip`.`location_ID` AS `location_ID`,`ip`.`item_ID` AS `item_ID`,`ip`.`user_id` AS `user_ID`,'U' AS `period_group_type`,4 AS `period_group_priority`,`pgp`.`period_group_id` AS `period_group_id`,`p`.`period_id` AS `period_id`,`cal`.`recurrence_index` AS `recurrence_index`,`cal`.`time_start` AS `time_start`,`cal`.`time_end` AS `time_end` from (((`wp_cb2_view_calendar_periods` `cal` join `wp_cb2_periods` `p` on((`cal`.`period_id` = `p`.`period_id`))) join `wp_cb2_period_group_period` `pgp` on((`pgp`.`period_id` = `p`.`period_id`))) join `wp_cb2_timeframe_user_period_groups` `ip` on((`ip`.`period_group_id` = `pgp`.`period_group_id`)));
